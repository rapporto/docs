
SMS-рассылка с идентификаторами
=========================================

При создании SMS-рассылки с идентификаторами необходимо учитывать :doc:`ftp_file_require`, а также следующие требования: 

* текстовый файл в кодировке Windows-1251 или UTF-8;
* максимальная длина передаваемого МТ-сообщения: 2000 символов;
* в тексте сообщений допускается использовать служебные символы (перенос строки, точка с запятой). Для этого текст сообщения необходимо взять в кавычки, а значимые кавычки в тексте - удвоить.


.. tabs::

    .. tab:: Пример файла

        .. code-block:: 
           :linenos:

            name: sendout20240916
            service_number: ВАШЕ_СЕРВИСНОЕ_ИМЯ
            auto_start: Y
            
            272344713;79036533935;сообщение
            435235262;79037537935;другое сообщение
            ...

    .. tab:: Формат файла

        .. code-block:: 
           :linenos:

            name: 
            service_number: 
            date_start: 
            auto_start: 
            time_begin: 
            time_end: 
            use_timediff: 
                        
            идентификатор 1;номер 1;текст сообщения 1
            идентификатор 2;номер 2;текст сообщения 2
            ...
            идентификатор n;номер n;текст n

        .. note::
   
            В файле между параметрами и списком номеров с текстами сообщений должна быть пустая строка.
       

    .. tab:: Описание параметров

        .. note:: Обязательные параметры выделены в таблице **жирным** шрифтом.

        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | Параметр                | Описание                                                                                                 |
        +=========================+==========================================================================================================+
        | **name**                | Название рассылки, должно быть уникальным.                                                               |
        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | **service_number**      | Имя отправителя.                                                                                         |
        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | date_start              | | Дата запуска рассылки в формате YYYY-MM-DD.                                                            |
        |                         | | Опциональный параметр. Если дата старта не указана, то рассылка начнется в текущую дату.               |    
        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | auto_start              | Автоматический старт рассылки.                                                                           |
        |                         | Возможные значения:                                                                                      |
        |                         |                                                                                                          |          
        |                         | * Y - да;                                                                                                |
        |                         | * N - нет.                                                                                               |
        |                         |                                                                                                          |
        |                         | Использование данной функции оговаривается отдельно.                                                     |
        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | time_begin              | Нижняя граница временного интервала, в котором будет осуществляться доставка в формате hh:mm.            |
        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | time_end                | Верхняя граница временного интервала, в котором будет осуществляться доставка в формате hh:mm.           |
        +-------------------------+----------------------------------------------------------------------------------------------------------+
        | use_timediff            | Осуществление доставки с учётом часового пояса абонента.                                                 |
        |                         | Возможные значения:                                                                                      |
        |                         |                                                                                                          |          
        |                         | * Y - да;                                                                                                |
        |                         | * N - нет.                                                                                               |
        +-------------------------+----------------------------------------------------------------------------------------------------------+ 

   

