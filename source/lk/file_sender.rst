
Как создать файл для рассылки
=============================

При создании рассылок для разных типов сообщений в личном кабинете доступна загрузка номеров абонентов из файла. На данный момент можно загрузить файлы в формате .csv (разделитель — запятая), .txt, .xls и .xlsx размером до 128 MB.

В зависимости от типа рассылки файл может содержать:

* только номера телефонов — подходит для обычных рассылок;
* номера телефонов и переменные значения — подходит для рассылок с подстановками.

При подготовке файлов необходимо учесть следующее:

1. Для абонентов РФ номер должен состоять из 11 цифр и начинаться с 7. Например, 79990002233;
2. Каждый номер телефона должен располагаться на отдельной строке;
3. Для рассылок с подстановками в файле формата .csv (разделитель — запятая) на первом месте идет номер телефона, в последующих столбцах — переменные значения.

.. table:: 

    +-----------------------------------------------------+----------------------------------------------+
    | Пример файла в формате .csv (разделитель — запятая):| Пример файла в формате .txt:                 |
    |                                                     |                                              |
    | .. image:: media/file_sender2.png                   | .. image:: media/file_sender1.png            |
    |     :width: 350                                     |     :width: 350                              |
    +-----------------------------------------------------+----------------------------------------------+
    | Пример файла в формате .xlsx:                       | Пример файла в формате .csv с подстановками: |
    |                                                     |                                              |
    | .. image:: media/file_sender3.png                   | .. image:: media/substitutions1.png          |
    |      :width: 350                                    |     :width: 350                              |
    +-----------------------------------------------------+----------------------------------------------+

Чтобы загружаемый файл был корректно обработан системой, он должен отвечать вышеперечисленным требованиям. При несоответствии номера автоматически исключаются из рассылки. Пользователь будет уведомлен о каждом исключенном номере и причине его удаления из рассылки.
